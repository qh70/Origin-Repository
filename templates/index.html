<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"></meta>
        <meta name="viewport" content="width=device-width initial-scale=1 maximum-scale=1"/>
        <title>台北市景點列表</title>
        <script type="text/javascript">
            function hamburger(){
                let item1=document.getElementById("item1")
                item1.style.display="block";
                let item2=document.getElementById("item2")
                item2.style.display="block";
            }
            let mydata;
            function getData(){
                let req=new XMLHttpRequest();
                req.open("get","https://padax.github.io/taipei-day-trip-resources/taipei-attractions-assignment.json");
                req.onload=function(){
                    mydata=this.responseText;
                    mydata=mydata.replace(/JPG/g, "jpg")
                    mydata=JSON.parse(mydata)   
                                
                    for(let i=0;i<8;i++){
                        let div1=document.createElement("div");
                        div1.id="picline";
                        div1.className="picline1";
                        newDiv.appendChild(div1);
                        // img
                        let image=document.createElement("img");
                        image.className="first4pics"
                        image.src=mydata["result"]["results"][i]["file"].split("jpg")[0]+"jpg";
                        div1.appendChild(image);
                        // stitle
                        let word=document.createElement("div");
                        word.className="word";
                        div1.appendChild(word);
                        let textNode=document.createTextNode(mydata["result"]["results"][i]["stitle"]);
                        word.appendChild(textNode);
                }
            }
            req.send();
            
            }
            

            // function btN(){
            // let btN=document.getElementById("btN")
            // let handler=function (){
            //     clicktime+=1;
            //     return clicktime;
            // }
            // btN.addEventListener("click",handler)
            // }
            // console.log(clicktime)
            let clicktime=0;


            function btn(){
                let req=new XMLHttpRequest();
                req.open("get","https://padax.github.io/taipei-day-trip-resources/taipei-attractions-assignment.json");
                req.onload=function(){
                    clicktime+=1;
                    let k=8*clicktime;
                    for(let j=k;j<k+8;j++){
                        if(j<58){
                        let div1=document.createElement("div");
                        div1.id="picline";
                        div1.className="picline1";
                        newDiv.appendChild(div1);
                        // img
                        let image=document.createElement("img");
                        image.className="first4pics"
                        image.src=mydata["result"]["results"][j]["file"].split("jpg")[0]+"jpg";
                        div1.appendChild(image);
                        // stitle
                        let word=document.createElement("div");
                        word.className="word";
                        div1.appendChild(word);
                        let textNode=document.createTextNode(mydata["result"]["results"][j]["stitle"]);
                        word.appendChild(textNode);
                        }
                        else{
                            let btNdis=document.getElementById("btNdis");
                            btNdis.style.display="none";
                        };
                    };
                };
                req.send(); 
            };
            



            
        </script>

        <style type="text/css">       
            nav{width: 1200px;margin-left: auto;margin-right: auto;display: flex;align-items: center;}  
            .taipei_oneday_tourist{font-weight: bold;font-size: 20px;margin-left: 10px;color:rgb(34, 177, 177)}
            .item1{width:100px;text-align: center;font-size: 15px;margin-left:auto;margin-right: -10px;}
            .item2{width:100px;text-align: center;font-size: 15px;float:right;margin-left: -10px;margin-right: 10px;}
            .ham{display: none;flex: none;}
            .picline1{width: 260px;height: 260px;margin:20px;flex: none;}
            .first4pics{width:260px;height:210px;display:block}
            .word{width:260px;height:50px;text-align: center;line-height: 50px;font-size: 0.9rem;background-color: rgb(204, 236, 238);}
            .newdiv{display: flex;justify-content: center;flex-wrap:wrap;margin: auto;margin-top: 20px;width: 1200px;}
            .wbtN{margin: auto;display: flex;justify-content: center;}
            .btN{width:150px;height: 30px;margin: 30px;}
            
            @media (max-width:1200px){
                .newdiv{width: 100%;}
                .picline1{width: 45%;height: auto;margin: 10px;margin-bottom: 60px;}
                .first4pics{width:100%;height: 100%;object-fit: cover;}
                .word{width:100%;}
            }@media (max-width:600px){
                .picline1{width: 85%;}
                .item{display: none;}
                .ham{display:block;}
            }
        </style>
    </head>
    <body style="margin: 0px;font: Noto Sans TC;" onload="getData()">
        <nav name="Navigation Bar">
            <!-- <div style="display:flex;flex:auto;align-items: center;width:50%;background-color: blueviolet;"> -->
                <div class="taipei_oneday_tourist">台北一日遊</div>
            <!-- </div> -->
            <!-- <div style="flex:auto;display:flex;align-items: center;justify-content: flex-end;width:50%;background-color: brown;"> -->
                <span class="item1" id="item1">預定行程</span>
                <span class="item2" id="item2">登入/註冊</span>
            <!-- </div> -->
        </nav>      
        <div style="height: 320px;display: flex;align-items: center;justify-content: center;margin: 0px;background-image:url(CKS_Memory_Hall.png),linear-gradient(135deg, #AADDEE 0%, #66AABB 100%);background-repeat: no-repeat;background-position:top 0px right 50px, 0px;background-size: 650px 320px,1920px 320px;">
            <div style="width: 1200px;height: 169px;text-align: center;background-color: blue;margin-left: auto;margin-right: auto;">
                <div style="width: 1180px;height: 40px;margin: 10px;color: white;font-weight: bold;text-align: left;font-weight: 700;font-size: 24px;">輕鬆享受台北一日悠閒</div>
                <div style="width: 1180px;height: 20px;margin: 10px;color: white;text-align: left;font-weight: 400;font-size: 16px;">探索每個角落，體驗城市的深度旅遊行程</div>
            </div>
        </div>


        <div class="newdiv" id="newDiv">
            <!-- <div class="picline1" id="picline">
                <div class="first4pics" id="first4pic"></div>
                <div class="word" id="fill-1"></div> -->
            <!-- </div>
            <div class="picline1">
                <div class="first4pics" id="first4pic-2"></div>
                <div class="word" id="fill-2"></div>
            </div>
            <div class="picline1">
                <div class="first4pics" id="first4pic-3"></div>
                <div class="word" id="fill-3"></div>
            </div>
            <div class="picline1">
                <div class="first4pics" id="first4pic-4"></div>
                <div class="word" id="fill-4"></div>
            </div>
            

        </div>

        <div style="display: flex;justify-content: center;flex-wrap:wrap;margin-top: 0px;">
            <div class="picline1">
                <div class="first4pics" id="first4pic-5"></div>
                <div class="word" id="fill-5"></div>
            </div>
            <div class="picline1">
                <div class="first4pics" id="first4pic-6"></div>
                <div class="word" id="fill-6"></div>
            </div>
            <div class="picline1">
                <div class="first4pics" id="first4pic-7"></div>
                <div class="word" id="fill-7"></div>
            </div>
            <div class="picline1">
                <div class="first4pics" id="first4pic-8"></div>
                <div class="word" id="fill-8"></div>
            </div> -->
            

        </div>
        <div class="wbtN">
        <button onclick="btn()" class="btN" id="btNdis">Load More</button>
        </div>

    </body>
</html>